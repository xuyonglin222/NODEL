<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Websocket</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
</head>
<body>
    <h1>Echo test</h1>
    <input type="text" id="sendTxt">
<button id="sendBtn">发送</button>
<div id="recv"></div>
    <script type="text/javascript">
        var btn=document.getElementById("sendBtn");

        var socket=io.connect('http://localhost:8012')
        btn.onclick=function(){
            var sendTxt= document.getElementById("sendTxt").value;
            var recValue=document.getElementById('recv').innerHTML;

            socket.emit('sendTxt',sendTxt);
            socket.on('recvTxt',function(data){
                recValue=data;
            })
            socket.on('echoUserCount',function(data){
                console.log(data)
            })
            socket.on('sayH',function(data){
                alert(data)
            })
        }
    </script>
</body>
</html>